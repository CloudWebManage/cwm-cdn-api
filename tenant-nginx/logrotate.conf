/var/log/nginx/access.logjson {
    daily
    rotate 7
    missingok
    notifempty

    compress
    delaycompress

    create 0644 nobody nobody

    sharedscripts
    postrotate
        if [ -f /usr/local/openresty/nginx/logs/nginx.pid ]; then
            kill -USR1 "$(cat /usr/local/openresty/nginx/logs/nginx.pid)" 2>/dev/null || true
        fi
    endscript
}
